{% extends 'dashboard.html' %}
{% load static %}
{% load widget_tweaks %}
{% load item_tags %}


{% block require %}
    <script src="{% static 'js/require.js' %}"  data-main="{% static 'js/calendar.js' %}"></script>
 
 
  <script>
      require(['script/ajax-schedule']);
  </script>


{% endblock %} 


{% block page_title %} 
    <i class="bi bi-camera-video sacado_color_text"></i> 
    Ajouter des élèves à mes leçons  - <small>{{ teacher.students.count }} actuellement en charge</small>
{% endblock  %}



{% block page_menu_right %} 
{% endblock  %}





{% block body  %} 
<section class="content_container">

    <div class="row">
        <div class="col-xs-12">
 
         
   
            <form  action="{% url 'add_students_to_my_lesson_group' %}" method="POST">
                {% csrf_token %}              
                {% regroup students by level as level_list %}

                {% for l in level_list %}
                    <div class="card" style="width:350px;padding:15px;height:200px; border : 5px solid {{ l.grouper.color }};overflow-y: auto">
                    <span style="background-color: {{ l.grouper.color }};font-size: 20px;padding:5px;color: {{ l.grouper.color|contrast_color }}"> {{ l.grouper }}</span> 
                      <ul style="padding: 10px!important;">
                      {% for s in l.list %} 
                      {% is_inside_my_lesson teacher s as ins %}
                      <li class="sanspuce" style="font-size: 15px;" >
                          <input id="student_id" value="{{ s.user.id }}" name="students" type="checkbox" {% if ins %} checked {% endif %} />
                          {% if ins %}
                              <b class="sacado_text_color"> {{ s }}</b> <i class="bi bi-align-end"></i>  <span style="color : {{ l.grouper.color }}">{{s.data_menu.name}} </span>
                              <a href="{% url 'delete_student_to_my_lesson_group' s.user.id %}" onclick="return TestRemove('{{ s.user }}')"><i class="bi bi-x-circle"></i></a>
                          {% else %} 
                              {{ s }} <i class="bi bi-align-end"></i> <span style="color : {{ l.grouper.color }}">{{s.data_menu.name}} </span>
                          {% endif %}
                        </li>
                      {% endfor  %}
                      </ul>
                    </div>
                {% endfor %}


                  <div class="row"> 
                      <div class="col-sm-12 col-md-12">
                          <div class="form-group"><br>
                                <input value="Enregistrer" type="submit" class="btn btn-primary"  /> 
                                <a href="javascript:history.back()"><input type="button" value="Annuler" class="btn btn-default "/></a>
                          </div>
                      </div> 
                  </div> 

            </form>
  

        </div>

    </div>

 
</section>

 
 




{% endblock %}